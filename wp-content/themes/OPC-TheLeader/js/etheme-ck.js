jQuery(document).ready(function(e){function n(t,n){var r=[];n&&t.attr("style","");t.each(function(){r.push(e(this).height())});var i=Math.max.apply(Math,r);t.height(i)}function f(){function r(){jQuery(".switchToList").addClass(e);jQuery(".switchToGrid").removeClass(e);jQuery(".product-loop").fadeOut(300,function(){jQuery(this).removeClass(t).addClass(n).fadeIn(300);jQuery.cookie("products_page","list")})}function i(){jQuery(".switchToGrid").addClass(e);jQuery(".switchToList").removeClass(e);jQuery(".product-loop").fadeOut(300,function(){jQuery(this).removeClass(n).addClass(t).fadeIn(300);jQuery.cookie("products_page","grid")})}var e="switcher-active",t="products-grid",n="products-list";jQuery(".switchToList").click(function(){(!jQuery.cookie("products_page")||jQuery.cookie("products_page")=="grid")&&r()});jQuery(".switchToGrid").click(function(){(!jQuery.cookie("products_page")||jQuery.cookie("products_page")=="list")&&i()})}function l(){var e="switcher-active";if(jQuery.cookie("products_page")=="grid"){jQuery(".product-loop").removeClass("products-list").addClass("products-grid");jQuery(".switchToGrid").addClass(e)}else if(jQuery.cookie("products_page")=="list"){jQuery(".product-loop").removeClass("products-grid").addClass("products-list");jQuery(".switchToList").addClass(e)}else view_mode_default=="list_grid"||view_mode_default=="list"?jQuery(".switchToList").addClass(e):jQuery(".switchToGrid").addClass(e)}function v(t){var n=e(".checkout-steps-nav");e(".checkout-step").fadeOut(200);n.find("li a").removeClass("active");e("#tostep"+t+" a").addClass("active");setTimeout(function(){e("#step"+t).fadeIn(200)},200)}function m(t){if(t==2){e("#tostep2").css("display","inline-block");e("#createaccount").attr("checked",!0);e("#step1 .continue-checkout").data("next",2)}else{e("#tostep2").hide();e("#createaccount").attr("checked",!1);e("#step1 .continue-checkout").data("next",3)}}function g(t,n){e.ajax({url:t,method:"GET",timeout:1e4,dataType:"text",success:function(e){y(e,n)},error:function(e){alert("Error loading ajax content!");window.location.reload()}})}function y(t,n){e(".woocommerce-pagination").html(e(t).find(".woocommerce-pagination").html());e("#"+n).html(e(t).find("#"+n).html());e(".content.span9").html(e(t).find(".content.span9").html());e(".content.span12").html(e(t).find(".content.span12").html());e("*").css({cursor:"auto"});e(".product-grid").removeClass("loading").find("#floatingCirclesG").remove();l();f()}function P(){function t(e){jQuery(e).parent().slideUp(100)}var e=jQuery(".close-parent");e.click(function(e){t(this)})}function I(e){var t=e.toString(16);return t.length==1?"0"+t:t}function q(e,t,n){return"#"+I(e)+I(t)+I(n)}function R(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}var t=e(".fixed-header .menu, .main-nav .menu");t.find(">li").hoverIntent({over:function(){var t=e(this).find("> .nav-sublist-dropdown"),r=0;e(this).find(".image-item").length>0&&(r=20);t.fadeIn(100).css({display:"list-item",listStyle:"none"}).find("li").css({listStyle:"none"});var i=t.find(".menu-parent-item,.image-item").length,s=t.outerWidth();if(i>1){s*=i;t.css({width:s-r});n(t.find(".menu-parent-item,.image-item"),!1)}var o=e(".menu-wrapper").outerWidth(),u=e(".menu-wrapper").offset().left,a=t.offset().left-u,f=o-(a+s);f<0&&t.css({left:"auto",right:0})},out:function(){e(this).find("> .nav-sublist-dropdown").fadeOut(100).attr("style","")},timeout:50});e(window).resize(function(){n(e(".product-category"),!0)});var r,s=!1,o=jQuery(".back-to-top"),u=jQuery(window);u.scroll(function(){window.clearTimeout(r);r=window.setTimeout(function(){if(u.scrollTop()<=0){s=!1;o.fadeOut(500)}else if(s==0){s=!0;o.stop(!0,!0).fadeIn(500).click(function(){o.fadeOut(500)})}},400)});jQuery(".back-to-top").click(function(e){jQuery("html, body").animate({scrollTop:0},1e3);return!1});$portfolio=e(".masonry");$portfolio.isotope({itemSelector:".portfolio-item"});e(window).smartresize(function(){$portfolio.isotope({itemSelector:".portfolio-item"})});e(".portfolio-filters a").click(function(){var t=e(this).attr("data-filter");e(".portfolio-filters a").removeClass("active");e(this).hasClass("active")||e(this).addClass("active");$portfolio.isotope({filter:t});return!1});setTimeout(function(){e(".portfolio").addClass("with-transition");e(".portfolio-item").addClass("with-transition")},500);e(window).resize();$blog=e(".blog-masonry");console.log("Mansonry");$blog.isotope({itemSelector:".post-grid"});e(window).smartresize(function(){$blog.isotope({itemSelector:".post-grid"})});e(window).scroll(function(){if(!e("body").hasClass("fixNav-enabled"))return!1;var t=e(".fixed-header-area"),n=e(this).scrollTop(),r=e(".header").height()+e(".main-nav").height()+e(".top-bar").height();n>r?t.hasClass("fixed-already")||t.stop().addClass("fixed-already"):t.hasClass("fixed-already")&&t.stop().removeClass("fixed-already")});var a=e("#iconModal");e(".demo-icons .demo-icon").click(function(){var t=e(this).find("i").attr("class");a.find("i").each(function(){e(this).attr("class",t)});a.find("#myModalLabel").text(t);a.modal()});e(".testimonials-slider").cbpQTRotator();f();l();var c=e(".checkout-steps-nav"),h=e(".checkout-steps"),p=e(".continue-checkout");c.find("li a").click(function(t){t.preventDefault();var n=e(this),r=n.data("step");v(r)});p.click(function(t){t.preventDefault();var n=e(this).data("next");v(n)});h.find(".active").show();var d=e('input[name="method"]');d.change(function(){var e=jQuery(this).val();m(e)});m(e('input[name="method"]:checked').val());ajaxFilterEnabled==1&&e(".widget_layered_nav a, .woocommerce-pagination a").live("click",function(t){var n=e(this).attr("href");n==""&&(n=e(this).attr("value"));blockId=e(this).parent().parent().parent().attr("id");e("*").css({cursor:"progress"});e(".product-loop .product").addClass("loading").prepend('<div id="floatingCirclesG"><div class="f_circleG" id="frotateG_01"></div><div class="f_circleG" id="frotateG_02"></div><div class="f_circleG" id="frotateG_03"></div><div class="f_circleG" id="frotateG_04"></div><div class="f_circleG" id="frotateG_05"></div><div class="f_circleG" id="frotateG_06"></div><div class="f_circleG" id="frotateG_07"></div><div class="f_circleG" id="frotateG_08"></div></div>');g(n,blockId);t.stopPropagation();return!1});e("form.variations_form").on("found_variation",function(t,n){var r=e(this),i=e(this).closest(".product"),s=i.find("div.images img:eq(0)"),o=i.find("div.images a.zoom:eq(0)"),u=s.attr("data-o_src"),a=s.attr("data-o_title"),f=o.attr("data-o_href"),l=n.image_src,c=n.image_link,h=n.image_title;if(e(".main-image-slider").hasClass("zoom-enabled")){e("a#main-zoom-image").swinxyzoom("load",l,c);e("a#main-zoom-image").attr("href",f)}else e("a#main-zoom-image").attr("href",l)}).on("reset_image",function(t){var n=e(this).closest(".product"),r=n.find("div.images img:eq(0)"),i=n.find("div.images a.zoom:eq(0)"),s=r.attr("data-o_src"),o=i.attr("data-o_href");if(e(".main-image-slider").hasClass("zoom-enabled")){e("a#main-zoom-image").swinxyzoom("load",s,s);e("a#main-zoom-image").attr("href",o)}else e("a#main-zoom-image").attr("href",variation_image)});var b=jQuery(".etheme-simple-product").eModal();e(".etheme-simple-product").live("click",function(t){t.preventDefault();var n=e(this);if(n.is(".etheme-simple-product, .product_type_downloadable, .product_type_virtual")){e("#top-cart").addClass("updating");formAction=e("form.cart").attr("action");var r={quantity:e("input[name=quantity]").val()};b.eModal("showModal");e("body").trigger("adding_to_cart");e.ajax({url:formAction,data:r,method:"POST",timeout:1e4,dataType:"text",error:function(e){b.eModal("endLoading").eModal("addError","Error with ajax").eModal("addBtn",{title:contBtn,href:"javascript:void(0);",cssClass:"button small hidewindow",hideOnClick:!0})},success:function(t,n,r){jQuery(".shopping-cart-widget").html(jQuery(t).find(".shopping-cart-widget").html());productImageSrc=e(".thumbnails img").first().attr("src");productName=e(".product_title").first().text();b.eModal("endLoading").eModal("setTitle",productName).eModal("addImage",productImageSrc).eModal("addText",successfullyAdded).eModal("addBtn",{title:contBtn,href:"javascript:void(0);",cssClass:"button small hidewindow",hideOnClick:!0}).eModal("addBtn",{title:checkBtn,href:checkoutUrl,cssClass:"button filled small arrow-right"})}});return!1}return!0});e(".etheme_add_to_cart_button").live("click",function(){var t=e(this);if(t.is(".product_type_simple, .product_type_downloadable, .product_type_virtual")){if(!t.attr("data-product_id"))return!0;t.removeClass("added");t.parent().parent().addClass("loading");t.after('<div id="floatingCirclesG"><div class="f_circleG" id="frotateG_01"></div><div class="f_circleG" id="frotateG_02"></div><div class="f_circleG" id="frotateG_03"></div><div class="f_circleG" id="frotateG_04"></div><div class="f_circleG" id="frotateG_05"></div><div class="f_circleG" id="frotateG_06"></div><div class="f_circleG" id="frotateG_07"></div><div class="f_circleG" id="frotateG_08"></div></div>');var n={action:"woocommerce_add_to_cart",product_id:t.attr("data-product_id"),quantity:t.attr("data-quantity")};e("body").trigger("adding_to_cart",[t,n]);e.post(woocommerce_params.ajax_url,n,function(n){if(!n)return;var r=window.location.toString();r=r.replace("add-to-cart","added-to-cart");if(n.error&&n.product_url){window.location=n.product_url;return}if(woocommerce_params.cart_redirect_after_add=="yes"){window.location=woocommerce_params.cart_url;return}t.parent().find("#floatingCirclesG").remove();fragments=n.fragments;cart_hash=n.cart_hash;fragments&&e.each(fragments,function(t,n){e(t).addClass("updating")});e(".shopping-cart-widget").fadeTo("400","0.6").block({message:null,overlayCSS:{background:"transparent url("+woocommerce_params.ajax_loader_url+") no-repeat center",opacity:.6}});t.addClass("added").parent().prepend('<p class="added-text">'+successfullyAdded+"</p>");setTimeout(function(){t.parent().parent().removeClass("loading");t.removeClass("added");e(".added-text").fadeOut(300)},3e3);fragments&&e.each(fragments,function(t,n){e(t).replaceWith(n)});e(".shopping-cart-widget").stop(!0).css("opacity","1").unblock();console.log(e(".shopping-cart-widget"));e(".shopping-cart-widget").size()>0&&e(".shopping-cart-widget:eq(0)").load(r+" .shopping-cart-widget:eq(0) > *",function(){if(fragments){console.log(fragments);e.each(fragments,function(t,n){e(t).replaceWith(n)})}e(".shopping-cart-widget").stop(!0).css("opacity","1").unblock();e("body").trigger("cart_widget_refreshed")});e("body").trigger("added_to_cart",[fragments,cart_hash])});return!1}return!0});var w=e(".search #searchform"),E=w.find(".button"),S=w.find('input[type="text"]');E.click(function(t){if(w.hasClass("hide-input")){t.preventDefault();S.fadeIn(200).focus();w.removeClass("hide-input")}e(document).click(function(t){var n=t.target;if(!e(n).is(".search")&&!e(n).parents().is(".search")){w.addClass("hide-input");S.fadeOut(200)}})});var x=e(".tabs");e(".tabs > p > a").unwrap("p");var T=e(".left-bar, .right-bar"),N;T.each(function(){var t=e(this);N=t.find("> a.tab-title").clone().removeClass("tab-title").addClass("tab-title-left");N.first().addClass("opened");var n=e('<div class="left-titles"></div>').prependTo(t);n.html(N);t.find(".tab-content").css({minHeight:n.height()})});x.each(function(){var t=e(this);t.find(".tab-title").first().addClass("opened").next().show();t.find(".tab-title, .tab-title-left").click(function(n){n.preventDefault();var r=e(this).attr("id");if(e(this).hasClass("opened")){if(t.hasClass("accordion")||e(window).width()<767){e(this).removeClass("opened");e("#content_"+r).hide()}}else{t.find(".tab-title, .tab-title-left").each(function(){var t=e(this).attr("id");e(this).removeClass("opened");e("#content_"+t).hide()});e("#content_"+r).show();e(this).addClass("opened")}})});var C="+",k="&ndash;";if(catsAccordion){var L=e(".product-categories"),A='<div class="open-this">'+C+"</div>";L.find(">li").has(".children").has("li").addClass("parent-level0").prepend(A);e(".current-cat.parent-level0, .current-cat-parent").length>0?e(".current-cat.parent-level0, .current-cat-parent").find(".open-this").html(k).parent().addClass("opened").find("ul.children").show():L.find(">li").first().find(".open-this").html(k).parent().addClass("opened").find("ul.children").show();L.find(".open-this").click(function(){e(this).parent().hasClass("opened")?e(this).html(C).parent().removeClass("opened").find("ul.children").slideUp(200):e(this).html(k).parent().addClass("opened").find("ul.children").slideDown(200)})}var O=e(".toggle-block"),M=O.find(".toggle-element");M.first().addClass("opened").find(".open-this").html(k).parent().parent().find(".toggle-content").show();M.click(function(t){t.preventDefault();if(e(this).hasClass("opened"))e(this).removeClass("opened").find(".open-this").html(C).parent().parent().find(".toggle-content").slideUp(200);else{e(this).parent().hasClass("noMultiple")&&e(this).parent().find(".toggle-element").removeClass("opened").find(".open-this").html(C).parent().parent().find(".toggle-content").slideUp(200);e(this).addClass("opened").find(".open-this").html(k).parent().parent().find(".toggle-content").slideDown(200)}});var _=e(".mobile-nav div > ul"),D='<span class="open-child">(open)</span>';_.addClass("et-mobile-menu");_.find("li:has(ul)",this).each(function(){e(this).prepend(D)});_.find(".open-child").click(function(){if(e(this).parent().hasClass("over"))e(this).parent().removeClass("over").find(">ul").slideUp(200);else{e(this).parent().parent().find(">li.over").removeClass("over").find(">ul").slideUp(200);e(this).parent().addClass("over").find(">ul").slideDown(200)}});e(".menu-icon, .close-mobile-nav").click(function(t){e("body").hasClass("mobile-nav-shown")?e("body").removeClass("mobile-nav-shown"):e("body").addClass("mobile-nav-shown",function(){setTimeout(function(){e(document).one("click",function(t){var n=t.target;!e(n).is(".mobile-nav")&&!e(n).parents().is(".mobile-nav")&&e("body").removeClass("mobile-nav-shown")})},111)})});e(".side-area-icon, .close-side-area").click(function(t){e("body").hasClass("shown-side-area")?e("body").removeClass("shown-side-area"):e("body").addClass("shown-side-area",function(){setTimeout(function(){e(document).one("click",function(t){var n=t.target;!e(n).is(".side-area")&&!e(n).parents().is(".side-area")&&e("body").removeClass("shown-side-area")})},111)})});P();var H=e("#contact-form"),B=jQuery(".spinner");e(".required-field").focus(function(){e(this).removeClass("validation-failed")});H.find("#submit").click(function(t){t.preventDefault();e("#contactsMsgs").html("");B.show();var n;n="";H.find(".required-field").each(function(){e(this).val()==""&&e(this).addClass("validation-failed")});if(n){e("#contactsMsgs").html('<p class="error">'+n+"</p>");B.hide()}else{url=H.attr("action");data=H.serialize();e.ajax({url:url,method:"GET",data:data,error:function(t){e("#contactsMsgs").html('<p class="error">Error while ajax request<span class="close-parent"></span></p>');B.hide()},success:function(t){if(t.status=="success"){e("#contactsMsgs").html('<p class="success">'+t.msg+'<span class="close-parent"></span></p>');H.find("input[type=text], textarea").val("")}else e("#contactsMsgs").html('<p class="error">'+t.msg+'<span class="close-parent"></span></p>');B.hide();P()}})}});var j=e("#commentform");j.find("#submit").click(function(t){e("#commentsMsgs").html("");j.find(".required-field").each(function(){if(e(this).val()==""){e(this).addClass("validation-failed");t.preventDefault()}})});var F=e(".progress-bars");F.waypoint(function(){i=0;e(this).find(".progress-bar").each(function(){i++;var t=e(this),n=e(this).data("width");setTimeout(function(){t.find("div").animate({width:n+"%"},400);t.find("span").css({opacity:1})},i*300,"easeOutCirc")})},{offset:"85%"});e(".progress-bar").each(function(){if(!e(this).parent().hasClass("progress-bars")){var t=e(this).data("width");e(this).find("div").animate({width:t+"%"},400);e(this).find("span").css({opacity:1})}})});